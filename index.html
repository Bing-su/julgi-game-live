<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <title>줄기 게임 라이브!</title>

    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />

    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script src="https://unpkg.com/adorable-css"></script>
  </head>

<body>
    <py-config>
    packages = [
      "julgi_game"
    ]
    </py-config>

    <div class="vbox pack gap(20) text-center p(50)">

        <div class="w(100%) w(~640) b(orange) bg(#fff) r(10) p(10) m(50/50/20/50) font(30) bold">줄기 게임!</div>

        <div class="hbox pack gap(30)">
            <input id="user1" type="text" class="w(40%) w(~300) b(grey) bg(#fff) c(black) p(10) text-center"></input>
            <input id="user2" type="text" class="w(40%) w(~300) b(grey) bg(#fff) c(black) p(10) text-center"></input>
        </div>

        <button id="run-button" class="w(128) h(10) r(10) b(orange) bg(#fff) bold p(15) pack hover:bg(orange) hover:c(#fff)" py-onClick="run_julgi()">시작!</button>

    <div id="game" type="submit" class="w(100%) w(~640) b(orange) bg(#fff) r(5) p(10) m(20/50/20/50) font(13)">줄기 게임!</div>

    <py-script>
    from julgi import game

    def run_julgi(*args, **kwargs):
        user1 = Element("user1").element.value
        user2 = Element("user2").element.value

        result = game(user1, user2, return_as_list=False)
        result = result.replace("\n", "<br>")

        Element("game").write(result)
    </py-script>

    </div>
  </body>
</html>